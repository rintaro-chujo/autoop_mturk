{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["App","React","useState","page_num","setPage_num","api_status","setApi_status","message","setMessage","page_status","pic_num","setPic_num","user_id","setUser_id","form_type","setForm_type","next_pic","score","pic_a","pic_b","post_url","SendDATA","console","log","postparam","JSON","stringify","fetch","then","res","json","catch","error","send_data","show_pic","a","b","return_pic","e","useEffect","name","url","window","location","href","replace","results","RegExp","exec","Number","decodeURIComponent","getParam","num","response","responseJson","data","className","style","display","type","id","margin","Button","variant","color","onClick","textbox","document","getElementById","value","set_user_id","src","alt","width","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.b60a6c5d.chunk.js","sourcesContent":["import logo from './logo.svg';\nimport './App.css';\nimport Button from \"@material-ui/core/Button\";\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\n\nfunction App() {\n  const [page_num, setPage_num] = React.useState<any>(1);\n  const [api_status, setApi_status] = React.useState<any>(false);\n  const [message, setMessage] = React.useState<any>([]);\n  const [page_status, setPage_status] = React.useState<any>([]);\n  const [pic_num, setPic_num] = React.useState<number>(0);\n  const [user_id, setUser_id] = React.useState<any>(\"\");\n  const [form_type,setForm_type]= React.useState<number>(0);\n\n  function set_user_id() {\n    var textbox = document.getElementById(\"user_id\") as HTMLInputElement;\n    setUser_id(textbox.value);\n    console.log(user_id)\n  }\n\n  function getParam(name:any) {\n    var url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return 0;\n    if (!results[2]) return 0;\n    return Number(decodeURIComponent(results[2].replace(/\\+/g, \" \")));\n  };\n\n  function next_pic(score:number) {\n    send_data(user_id,message[pic_num][2],message[pic_num][3],score,form_type)\n    if (pic_num<9){\n      setPic_num(pic_num + 1)\n    } else {\n      setPage_num(3)\n    }\n  }\n\n  function push_next() {\n    set_user_id();\n    setPage_num(page_num + 1);\n  }\n\n  function send_data(user_id: any, pic_a: any, pic_b: any, score: number, form_type:number) {\n    var post_url = \"https://script.google.com/macros/s/AKfycby4GPwHUYn0kkUSAmph1V0mdyRDx30pcslMc1iv7AaQcDN8KQ4xtdwjFDSXgB3I2hVcSA/exec\";\n    \n    var SendDATA = {\"user_id\":user_id,\"pic_a\":pic_a,\"pic_b\":pic_b,\"score\":score,\"form_type\":form_type};\n   console.log(user_id,score)\n    var postparam: RequestInit = \n          {\n            \"method\"     : \"POST\",\n            \"mode\"       : \"no-cors\",\n            \"headers\": { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n            \"body\" : JSON.stringify(SendDATA)\n    };\n  \n    //var data = {message: \"hello\"};\n    fetch(post_url,postparam)\n    .then((res)=>{\n      return( res.json() );\n    })\n    .catch((error) =>{\n      console.error(error);\n    });\n  }\n\n  function get_pic() {\n    const data = JSON.stringify({\n      num: 10,\n    });\n    \n    var url = \"https://script.google.com/macros/s/AKfycby4GPwHUYn0kkUSAmph1V0mdyRDx30pcslMc1iv7AaQcDN8KQ4xtdwjFDSXgB3I2hVcSA/exec?num=10\";\n    //var data = {message: \"hello\"};\n    fetch(url)\n    .then((response) => response.json())\n      .then((responseJson) => {\n        setMessage(responseJson.data.message);\n        setApi_status(true);\n        console.log(responseJson.data.message)\n    })\n    .catch((error) =>{\n      console.error(error);\n    });\n  }\n\n  function show_pic(a:any, b:any) {\n    try {\n      var return_pic:string = message[a][b];\n    } catch(e) {\n      var return_pic:string  = \"https://rintaro-chujo.github.io/autoop_pages/mturk_0225/0.08_0.16_1.jpeg\";\n    }\n    return return_pic\n  }\n\n  useEffect(() => {\n    setForm_type(getParam('type'));\n    get_pic()\n  },[page_status]);\n    \n  return (\n    <div className=\"App\">\n      <div\n          //className={page_num === 1 ? \"\" : \"hidden\"}\n          style={{ display: page_num === 1 ? \"\" :\"none\" }}\n        >\n      <h1>MTURK Forms</h1>\n        <p>\n        There are 10 questions in total.\n        The results of the questionnaire may be used for research.\n        </p>\n        <p>\n          If you have any questions, please contact us by Email.\n          Rintaro Chujo\n          the University of Tokyo\n          rintaro-chujo [at] g.ecc.u-tokyo.ac.jp\n        </p>\n        <h2>Enter Your User ID</h2>\n        <p>You need to enter it to get the reward.</p>\n        <input type=\"text\" id=\"user_id\"></input>\n\n        <div style={{\n          display: api_status === true ? \"\" : \"none\",\n          margin:20,\n        }}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            className=\"\"\n            onClick={push_next}>\n              Next\n          </Button>\n        </div>\n      </div>\n      <div\n          //className={page_num === 2 ? \"\" : \"hidden\"}\n          style={{ display: page_num === 2 ? \"\" :\"none\" }}\n      >\n        <div style={{ display: form_type === 0 ? \"\" :\"none\" }}>\n          <p>Which image looks more natural?</p>\n        </div>\n        <div style={{ display: form_type === 1 ? \"\" :\"none\" }}>\n          <p>Which image looks more powerful?</p>\n        </div>\n        <div className=\"picboxContainer\">\n          <img src={show_pic(pic_num,0)} alt=\"\" className=\"picbox\" width=\"400px\" onClick={() => next_pic(0)}/>\n          <img src={show_pic(pic_num,1)} alt=\"\" className=\"picbox\" width=\"400px\" onClick={() => next_pic(1)}/>\n        </div>\n      </div>\n      <div\n          //className={page_num === 2 ? \"\" : \"hidden\"}\n          style={{ display: page_num === 3 ? \"\" :\"none\" }}\n      >\n        <p>Thank you for answering to all questions.</p>\n        <p>Please enter the password below into mturk.</p>\n\n        <p>AM5m1WejO9</p>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}